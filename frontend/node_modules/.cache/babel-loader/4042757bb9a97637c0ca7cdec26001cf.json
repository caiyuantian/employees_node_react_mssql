{"ast":null,"code":"import { put, takeEvery, delay, call } from 'redux-saga/effects';\nimport actionTypes from '../actionTypes';\nexport function* initLoadAsync() {\n  yield delay(2000);\n  yield put({\n    type: 'CLICK_ADD'\n  });\n}\nexport function* fetchUserAsync() {\n  try {\n    const response = yield call(fetch, 'https://gist.githubusercontent.com/Lachlanbsmith/858629f93f628c62c4e29a3bb1d99bff/raw/bc403f2f39fbd3d41e48ff893f24d0545907ece0/login'); //const data = response.json();\n\n    const user = yield call([response, 'json']); //console.log(JSON.stringify(data));\n\n    if (!!user) {\n      yield put({\n        type: actionTypes.FEATCH_USER_OK,\n        user: user\n      });\n    } //return data[0].usernameName;\n\n  } catch (e) {\n    console.log(e); //return null;\n  }\n}\nexport function* fetchDataAsync() {\n  try {\n    const response = yield call(fetch, 'https://gist.githubusercontent.com/Lachlanbsmith/c5eb3b858ff810febd3dfbd5960d3fd8/raw/64a0ba3ee02d52536157d2dd01dddb1069175a8f/buildings');\n    const data = yield call([response, 'json']);\n\n    if (!!data) {\n      yield put({\n        type: actionTypes.FEATCH_USER_OK,\n        data: data\n      });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\nexport function* watchInitLoad() {\n  yield takeEvery('INIT_LOAD_DATA_ASYNC', fetchUserAsync);\n  yield takeEvery('INIT_LOAD_DATA_ASYNC', fetchDataAsync);\n}","map":{"version":3,"sources":["E:\\projects\\redux_demo2\\src\\sagas\\initLoadSaga.js"],"names":["put","takeEvery","delay","call","actionTypes","initLoadAsync","type","fetchUserAsync","response","fetch","user","FEATCH_USER_OK","e","console","log","fetchDataAsync","data","watchInitLoad"],"mappings":"AAAA,SAASA,GAAT,EAAcC,SAAd,EAAyBC,KAAzB,EAAgCC,IAAhC,QAA4C,oBAA5C;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AAEA,OAAO,UAAUC,aAAV,GAA0B;AAC7B,QAAMH,KAAK,CAAC,IAAD,CAAX;AACA,QAAMF,GAAG,CAAC;AAAEM,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAT;AACH;AAED,OAAO,UAAUC,cAAV,GAA2B;AAC9B,MAAI;AACA,UAAMC,QAAQ,GAAG,MAAML,IAAI,CAACM,KAAD,EAAQ,sIAAR,CAA3B,CADA,CAEA;;AACA,UAAMC,IAAI,GAAG,MAAMP,IAAI,CAAC,CAACK,QAAD,EAAW,MAAX,CAAD,CAAvB,CAHA,CAIA;;AACA,QAAI,CAAC,CAACE,IAAN,EAAY;AACR,YAAMV,GAAG,CAAC;AAAEM,QAAAA,IAAI,EAAEF,WAAW,CAACO,cAApB;AAAoCD,QAAAA,IAAI,EAAEA;AAA1C,OAAD,CAAT;AACH,KAPD,CAQA;;AACH,GATD,CASE,OAAOE,CAAP,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ,EADQ,CAER;AACH;AACJ;AAED,OAAO,UAAUG,cAAV,GAA2B;AAC9B,MAAI;AACA,UAAMP,QAAQ,GAAG,MAAML,IAAI,CAACM,KAAD,EAAQ,0IAAR,CAA3B;AACA,UAAMO,IAAI,GAAG,MAAMb,IAAI,CAAC,CAACK,QAAD,EAAW,MAAX,CAAD,CAAvB;;AACA,QAAI,CAAC,CAACQ,IAAN,EAAY;AACR,YAAMhB,GAAG,CAAC;AAAEM,QAAAA,IAAI,EAAEF,WAAW,CAACO,cAApB;AAAoCK,QAAAA,IAAI,EAAEA;AAA1C,OAAD,CAAT;AACH;AACJ,GAND,CAME,OAAOJ,CAAP,EAAU;AACRC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH;AACJ;AAED,OAAO,UAAUK,aAAV,GAA0B;AAC7B,QAAMhB,SAAS,CAAC,sBAAD,EAAyBM,cAAzB,CAAf;AACA,QAAMN,SAAS,CAAC,sBAAD,EAAyBc,cAAzB,CAAf;AACH","sourcesContent":["import { put, takeEvery, delay, call } from 'redux-saga/effects'\r\nimport actionTypes from '../actionTypes'\r\n\r\nexport function* initLoadAsync() {\r\n    yield delay(2000);\r\n    yield put({ type: 'CLICK_ADD' })\r\n}\r\n\r\nexport function* fetchUserAsync() {\r\n    try {\r\n        const response = yield call(fetch, 'https://gist.githubusercontent.com/Lachlanbsmith/858629f93f628c62c4e29a3bb1d99bff/raw/bc403f2f39fbd3d41e48ff893f24d0545907ece0/login');\r\n        //const data = response.json();\r\n        const user = yield call([response, 'json']);\r\n        //console.log(JSON.stringify(data));\r\n        if (!!user) {\r\n            yield put({ type: actionTypes.FEATCH_USER_OK, user: user});\r\n        }\r\n        //return data[0].usernameName;\r\n    } catch (e) {\r\n        console.log(e);\r\n        //return null;\r\n    }\r\n}\r\n\r\nexport function* fetchDataAsync() {\r\n    try {\r\n        const response = yield call(fetch, 'https://gist.githubusercontent.com/Lachlanbsmith/c5eb3b858ff810febd3dfbd5960d3fd8/raw/64a0ba3ee02d52536157d2dd01dddb1069175a8f/buildings');\r\n        const data = yield call([response, 'json']);\r\n        if (!!data) {\r\n            yield put({ type: actionTypes.FEATCH_USER_OK, data: data});\r\n        }\r\n    } catch (e) {\r\n        console.log(e);\r\n    }\r\n}\r\n\r\nexport function* watchInitLoad() {\r\n    yield takeEvery('INIT_LOAD_DATA_ASYNC', fetchUserAsync);\r\n    yield takeEvery('INIT_LOAD_DATA_ASYNC', fetchDataAsync);\r\n}"]},"metadata":{},"sourceType":"module"}